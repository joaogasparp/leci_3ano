<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>somm23: Memory Management (mem)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">somm23
   &#160;<span id="projectnumber">0.1</span>
   </div>
   <div id="projectbrief">Simulating a processor scheduler based on contiguous memory allocation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__mem.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Memory Management (mem)<div class="ingroups"><a class="el" href="group__somm23.html">Main modules</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>The <b>Memory Management (<code>mem</code>)</b> module deals with the allocation / deallocation of memory used by processes.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_mem_parameters.html">MemParameters</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global memory parameters.  <a href="struct_mem_parameters.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_mem_block.html">MemBlock</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A memory block.  <a href="struct_mem_block.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_mem_list_node.html">MemListNode</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The node to support the linked lists used by the first fit algorithm.  <a href="struct_mem_list_node.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_mem_tree_node.html">MemTreeNode</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The node to support the binary tree used by the buddy system algorithm.  <a href="struct_mem_tree_node.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga1e6a3baf6454d83550956c4c80aedf73"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mem.html#ga1e6a3baf6454d83550956c4c80aedf73">memInit</a> (uint32_t memSize, uint32_t memSizeOS, uint32_t chunkSize, <a class="el" href="group__tme.html#gaed8d81324317b657582e2b127ee52285">AllocationPolicy</a> policy)</td></tr>
<tr class="memdesc:ga1e6a3baf6454d83550956c4c80aedf73"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the internal data structure of the MEM module.  <a href="group__mem.html#ga1e6a3baf6454d83550956c4c80aedf73">More...</a><br /></td></tr>
<tr class="separator:ga1e6a3baf6454d83550956c4c80aedf73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3b846ec50603f4adcc810637091c2d7d"><td class="memItemLeft" align="right" valign="top"><a id="ga3b846ec50603f4adcc810637091c2d7d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mem.html#ga3b846ec50603f4adcc810637091c2d7d">memClose</a> ()</td></tr>
<tr class="memdesc:ga3b846ec50603f4adcc810637091c2d7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free dynamic memory used by the allocation algorithm and reset supporting data structures. <br /></td></tr>
<tr class="separator:ga3b846ec50603f4adcc810637091c2d7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacf6399490138a2b4212a4fa2dc0d2e0d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mem.html#gacf6399490138a2b4212a4fa2dc0d2e0d">memPrint</a> (FILE *fout)</td></tr>
<tr class="memdesc:gacf6399490138a2b4212a4fa2dc0d2e0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print the internal state of the memory management module.  <a href="group__mem.html#gacf6399490138a2b4212a4fa2dc0d2e0d">More...</a><br /></td></tr>
<tr class="separator:gacf6399490138a2b4212a4fa2dc0d2e0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6297e5044b95499ad209ea87ff8124f6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_address_space_mapping.html">AddressSpaceMapping</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mem.html#ga6297e5044b95499ad209ea87ff8124f6">memAlloc</a> (uint32_t pid, <a class="el" href="struct_address_space_profile.html">AddressSpaceProfile</a> *profile)</td></tr>
<tr class="memdesc:ga6297e5044b95499ad209ea87ff8124f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to allocate the address space profile of a process, using the active allocation policy.  <a href="group__mem.html#ga6297e5044b95499ad209ea87ff8124f6">More...</a><br /></td></tr>
<tr class="separator:ga6297e5044b95499ad209ea87ff8124f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga639b41bd1e77859114dae8f8d9cccd06"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__tme.html#ga7c44839dc791affb4e79e71d277a86c9">Address</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mem.html#ga639b41bd1e77859114dae8f8d9cccd06">memFirstFitAlloc</a> (uint32_t pid, uint32_t size)</td></tr>
<tr class="memdesc:ga639b41bd1e77859114dae8f8d9cccd06"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to allocate a block of memory of the given size, using the first fit algorithm.  <a href="group__mem.html#ga639b41bd1e77859114dae8f8d9cccd06">More...</a><br /></td></tr>
<tr class="separator:ga639b41bd1e77859114dae8f8d9cccd06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad10c23b5bd57e5629033134407174cbf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__tme.html#ga7c44839dc791affb4e79e71d277a86c9">Address</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mem.html#gad10c23b5bd57e5629033134407174cbf">memBuddySystemAlloc</a> (uint32_t pid, uint32_t size)</td></tr>
<tr class="memdesc:gad10c23b5bd57e5629033134407174cbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to allocate a block of memory of the given size, using the buddy system algorithm.  <a href="group__mem.html#gad10c23b5bd57e5629033134407174cbf">More...</a><br /></td></tr>
<tr class="separator:gad10c23b5bd57e5629033134407174cbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga40c813dce3cce6350d36418d5b791fe9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mem.html#ga40c813dce3cce6350d36418d5b791fe9">memFree</a> (<a class="el" href="struct_address_space_mapping.html">AddressSpaceMapping</a> *mapping)</td></tr>
<tr class="memdesc:ga40c813dce3cce6350d36418d5b791fe9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free a previously allocated address space mapping.  <a href="group__mem.html#ga40c813dce3cce6350d36418d5b791fe9">More...</a><br /></td></tr>
<tr class="separator:ga40c813dce3cce6350d36418d5b791fe9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga711f84e1388f6e52cec745f772263a1f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mem.html#ga711f84e1388f6e52cec745f772263a1f">memFirstFitFree</a> (<a class="el" href="group__tme.html#ga7c44839dc791affb4e79e71d277a86c9">Address</a> address)</td></tr>
<tr class="memdesc:ga711f84e1388f6e52cec745f772263a1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free a previously allocated (first fit) block of memory.  <a href="group__mem.html#ga711f84e1388f6e52cec745f772263a1f">More...</a><br /></td></tr>
<tr class="separator:ga711f84e1388f6e52cec745f772263a1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga78ff07514e38513b5ef7d8210a119c2a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mem.html#ga78ff07514e38513b5ef7d8210a119c2a">memBuddySystemFree</a> (<a class="el" href="group__tme.html#ga7c44839dc791affb4e79e71d277a86c9">Address</a> address)</td></tr>
<tr class="memdesc:ga78ff07514e38513b5ef7d8210a119c2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free a previously allocated (buddy system) block of memory.  <a href="group__mem.html#ga78ff07514e38513b5ef7d8210a119c2a">More...</a><br /></td></tr>
<tr class="separator:ga78ff07514e38513b5ef7d8210a119c2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gaff01b33f78511fa06c84a9da3366b01a"><td class="memItemLeft" align="right" valign="top"><a id="gaff01b33f78511fa06c84a9da3366b01a"></a>
<a class="el" href="struct_mem_parameters.html">MemParameters</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mem.html#gaff01b33f78511fa06c84a9da3366b01a">memParameters</a></td></tr>
<tr class="memdesc:gaff01b33f78511fa06c84a9da3366b01a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global memory management parameters. <br /></td></tr>
<tr class="separator:gaff01b33f78511fa06c84a9da3366b01a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga82710ee55f939b6173ec878b5811c556"><td class="memItemLeft" align="right" valign="top"><a id="ga82710ee55f939b6173ec878b5811c556"></a>
<a class="el" href="struct_mem_list_node.html">MemListNode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mem.html#ga82710ee55f939b6173ec878b5811c556">memFreeHead</a></td></tr>
<tr class="memdesc:ga82710ee55f939b6173ec878b5811c556"><td class="mdescLeft">&#160;</td><td class="mdescRight">Head of the free list for first fit algorithm. <br /></td></tr>
<tr class="separator:ga82710ee55f939b6173ec878b5811c556"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabcf990bdbd96c9f20107a74aeb0fa3aa"><td class="memItemLeft" align="right" valign="top"><a id="gabcf990bdbd96c9f20107a74aeb0fa3aa"></a>
<a class="el" href="struct_mem_list_node.html">MemListNode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mem.html#gabcf990bdbd96c9f20107a74aeb0fa3aa">memOccupiedHead</a></td></tr>
<tr class="memdesc:gabcf990bdbd96c9f20107a74aeb0fa3aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Head of the occupied list for first fit algorithm. <br /></td></tr>
<tr class="separator:gabcf990bdbd96c9f20107a74aeb0fa3aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga42c1ca031e226679a336bae485860e4e"><td class="memItemLeft" align="right" valign="top"><a id="ga42c1ca031e226679a336bae485860e4e"></a>
<a class="el" href="struct_mem_tree_node.html">MemTreeNode</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mem.html#ga42c1ca031e226679a336bae485860e4e">memTreeRoot</a></td></tr>
<tr class="memdesc:ga42c1ca031e226679a336bae485860e4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Root of the buddy system tree. <br /></td></tr>
<tr class="separator:ga42c1ca031e226679a336bae485860e4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The <b>Memory Management (<code>mem</code>)</b> module deals with the allocation / deallocation of memory used by processes. </p>
<p>Initially, the memory is empty, meaning that no process address space is hosted there. Thus, memory can be seen as a single region with a given dimension. In order for a process to be executed, one or more blocks of memory must be assigned to it, in order to host the process' address space segments. Every segment must be allocated in a continuous block of main memory.</p>
<p>The initial empty region is splitted such that there is a block for every segment of the process. To more processes have their address spaces hosted in memory, the empty part is successively divided. The way this division is done depends on the allocation policy used.</p>
<p>A running process eventually terminates its execution. Then, its assigned blocks of memory can be released, becoming available to other processes. The list of free blocks must be updated to include the released memory. Every released block may be adjacent to a existent free block or not. If it is adjacent, a merging must take place. Otherwise, a new element must be added to the list.</p>
<p>For the first fit approach, one can see the memory as a set of used blocks plus a set of available blocks, managing it with two lists: (a) a list of blocks allocated and assigned to processes; (b) list of free (not used) blocks. Both lists must be sorted in ascending order of memory addresses.</p>
<p>For the buddy system approach, the memory is splitted into halves until a block has enough size to host a segment but half of it has not.</p>
<p>In order to minimize its external fragmentation, memory is managed in chunks bigger than a single byte. This means that the amount of memory assigned to the process is the round up of the required amount to the chunk size.</p>
<p>The following table presents a list of the functions in this module, including:</p><ul>
<li>the function name;</li>
<li>the function ID, that can be used to switch between the binary and group version;</li>
<li>an estimation of the effort required to implement it;</li>
<li>a brief description of the function role. <table class="doxtable">
<tr>
<th><code>function</code> </th><th align="center">function ID </th><th align="center">effort </th><th>role </th></tr>
<tr>
<td><code><a class="el" href="group__mem.html#ga1e6a3baf6454d83550956c4c80aedf73" title="Initialize the internal data structure of the MEM module.">memInit()</a></code> </td><td align="center">501 </td><td align="center">&mdash; </td><td>Initialize the internal data structure of the MEM module </td></tr>
<tr>
<td><code><a class="el" href="group__mem.html#ga3b846ec50603f4adcc810637091c2d7d" title="Free dynamic memory used by the allocation algorithm and reset supporting data structures.">memClose()</a></code> </td><td align="center">502 </td><td align="center">&mdash; </td><td>Free dynamic memory used by the allocation algorithm and reset supporting data structures </td></tr>
<tr>
<td><code><a class="el" href="group__mem.html#gacf6399490138a2b4212a4fa2dc0d2e0d" title="Print the internal state of the memory management module.">memPrint()</a></code> </td><td align="center">503 </td><td align="center">&mdash; </td><td>Print the internal state of the memory management module </td></tr>
<tr>
<td><code><a class="el" href="group__mem.html#ga6297e5044b95499ad209ea87ff8124f6" title="Try to allocate the address space profile of a process, using the active allocation policy.">memAlloc()</a></code> </td><td align="center">504 </td><td align="center">&mdash; </td><td>Try to allocate the address space profile of a process, using the active allocation policy </td></tr>
<tr>
<td><code><a class="el" href="group__mem.html#ga639b41bd1e77859114dae8f8d9cccd06" title="Try to allocate a block of memory of the given size, using the first fit algorithm.">memFirstFitAlloc()</a></code> </td><td align="center">505 </td><td align="center">&mdash; </td><td>Try to allocate a block of memory of the given size, using the first fit algorithm </td></tr>
<tr>
<td><code><a class="el" href="group__mem.html#gad10c23b5bd57e5629033134407174cbf" title="Try to allocate a block of memory of the given size, using the buddy system algorithm.">memBuddySystemAlloc()</a></code> </td><td align="center">506 </td><td align="center">&mdash; </td><td>Try to allocate a block of memory of the given size, using the buddy system algorithm </td></tr>
<tr>
<td><code><a class="el" href="group__mem.html#ga40c813dce3cce6350d36418d5b791fe9" title="Free a previously allocated address space mapping.">memFree()</a></code> </td><td align="center">507 </td><td align="center">&mdash; </td><td>Free a previously allocated address space mapping </td></tr>
<tr>
<td><code><a class="el" href="group__mem.html#ga711f84e1388f6e52cec745f772263a1f" title="Free a previously allocated (first fit) block of memory.">memFirstFitFree()</a></code> </td><td align="center">508 </td><td align="center">&mdash; </td><td>Free a previously allocated (first fit) block of memory </td></tr>
<tr>
<td><code><a class="el" href="group__mem.html#ga78ff07514e38513b5ef7d8210a119c2a" title="Free a previously allocated (buddy system) block of memory.">memBuddySystemFree()</a></code> </td><td align="center">509 </td><td align="center">&mdash; </td><td>Free a previously allocated (buddy system) block of memory </td></tr>
</table>
</li>
</ul>
<dl class="section author"><dt>Author</dt><dd>Artur Pereira - 2023</dd></dl>
<p><br  />
 </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga1e6a3baf6454d83550956c4c80aedf73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1e6a3baf6454d83550956c4c80aedf73">&#9670;&nbsp;</a></span>memInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void memInit </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>memSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>memSizeOS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>chunkSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__tme.html#gaed8d81324317b657582e2b127ee52285">AllocationPolicy</a>&#160;</td>
          <td class="paramname"><em>policy</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the internal data structure of the MEM module. </p>
<p>The module's internal data structure, defined in file <code>mem.cpp</code>, should be initialized appropriately.<br  />
 The following must be considered:</p><ul>
<li>In case of an error, an appropriate exception must be thrown.</li>
<li>All exceptions must be of the type defined in this project (<a class="el" href="class_exception.html" title="The somm23 exception class.">Exception</a>).</li>
</ul>
<dl class="section user"><dt>Effort:</dt><dd>2 (low)</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">memSize</td><td>Total amount of memory, in chunks, available </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">memSizeOS</td><td>The amount of memory used by the operating system, in chunks </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">chunkSize</td><td>The unit of allocation, in bytes </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">policy</td><td>The allocation policy to be used </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gacf6399490138a2b4212a4fa2dc0d2e0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacf6399490138a2b4212a4fa2dc0d2e0d">&#9670;&nbsp;</a></span>memPrint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void memPrint </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>fout</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print the internal state of the memory management module. </p>
<p>The current state of the list of free and of the list of occupied blocks (module MEM) must be printed to the given file.<br  />
 The following must be considered:</p><ul>
<li>For each list, the printing must be done in ascending order of block address.</li>
<li>The output must be the same as the one produced by the binary version.</li>
<li>If print mode is NEW, print to a new file (zapping if necessary).</li>
<li>If print mode is APPEND, append printing to the end of the file.</li>
<li>In case of an error, an appropriate exception must be thrown.</li>
<li>All exceptions must be of the type defined in this project (<a class="el" href="class_exception.html" title="The somm23 exception class.">Exception</a>). <dl class="section remark"><dt>Remarks</dt><dd>See the result of the binary version, to replicate its behavior</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fout</td><td>File stream where to send output </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

</div>
</div>
<a id="ga6297e5044b95499ad209ea87ff8124f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6297e5044b95499ad209ea87ff8124f6">&#9670;&nbsp;</a></span>memAlloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_address_space_mapping.html">AddressSpaceMapping</a>* memAlloc </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_address_space_profile.html">AddressSpaceProfile</a> *&#160;</td>
          <td class="paramname"><em>profile</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Try to allocate the address space profile of a process, using the active allocation policy. </p>
<p>This is the front end allocation function. The following must be considered:</p><ul>
<li>For each segment of the given profile, following the profile order, the active block allocation function must be called, in order to fill an address space mapping.</li>
<li>If one of the segments fail to be allocated, the function should free the previously allocated blocks, before return NULL.</li>
<li>If the memory required to allocate the whole address space exceds the total memory for processes, (void*)(-1) should be returned.</li>
<li>Each segment size must be rounded up to the smallest multiple of the chunk size.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pid</td><td>PID of the process requesting memory </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">profile</td><td>Pointer to a variable containing the process' address space profile </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a valid pointer if succeed; 0 if not enough available memory at the moment; -1 if imposs√≠ble </dd></dl>

</div>
</div>
<a id="ga639b41bd1e77859114dae8f8d9cccd06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga639b41bd1e77859114dae8f8d9cccd06">&#9670;&nbsp;</a></span>memFirstFitAlloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tme.html#ga7c44839dc791affb4e79e71d277a86c9">Address</a> memFirstFitAlloc </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Try to allocate a block of memory of the given size, using the first fit algorithm. </p>
<p>This function may assume that the given size was already rounded up by the front end allocation function.<br  />
 The following must be considered:</p><ul>
<li>In case of an error, an appropriate exception must be thrown.</li>
<li>All exceptions must be of the type defined in this project (<a class="el" href="class_exception.html" title="The somm23 exception class.">Exception</a>).</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pid</td><td>PID of the process requesting memory </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>Size of the block to be allocated, in bytes </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The start address of the block allocated </dd></dl>

</div>
</div>
<a id="gad10c23b5bd57e5629033134407174cbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad10c23b5bd57e5629033134407174cbf">&#9670;&nbsp;</a></span>memBuddySystemAlloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tme.html#ga7c44839dc791affb4e79e71d277a86c9">Address</a> memBuddySystemAlloc </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Try to allocate a block of memory of the given size, using the buddy system algorithm. </p>
<p>This function may assume that the given size was already rounded up by the front end allocation function.<br  />
 The following must be considered:</p><ul>
<li>In case of an error, an appropriate exception must be thrown.</li>
<li>All exceptions must be of the type defined in this project (<a class="el" href="class_exception.html" title="The somm23 exception class.">Exception</a>).</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pid</td><td>PID of the process requesting memory </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>Size of the block to be allocated, in bytes </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The start address of the block allocated </dd></dl>

</div>
</div>
<a id="ga40c813dce3cce6350d36418d5b791fe9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga40c813dce3cce6350d36418d5b791fe9">&#9670;&nbsp;</a></span>memFree()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void memFree </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_address_space_mapping.html">AddressSpaceMapping</a> *&#160;</td>
          <td class="paramname"><em>mapping</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free a previously allocated address space mapping. </p>
<p>All blocks of the mapping must be free, using the active allocation policy.</p>
<p>The following must be considered:</p><ul>
<li>In case of an error, an appropriate exception must be thrown.</li>
<li>All exceptions must be of the type defined in this project (<a class="el" href="class_exception.html" title="The somm23 exception class.">Exception</a>).</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mapping</td><td>Pointer to a variable containig the address space mapping to be freed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga711f84e1388f6e52cec745f772263a1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga711f84e1388f6e52cec745f772263a1f">&#9670;&nbsp;</a></span>memFirstFitFree()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void memFirstFitFree </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__tme.html#ga7c44839dc791affb4e79e71d277a86c9">Address</a>&#160;</td>
          <td class="paramname"><em>address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free a previously allocated (first fit) block of memory. </p>
<p>If the block to be freed is contiguous to an empty block, merging must take place. The following must be considered:</p><ul>
<li>In case of an error, an appropriate exception must be thrown.</li>
<li>All exceptions must be of the type defined in this project (<a class="el" href="class_exception.html" title="The somm23 exception class.">Exception</a>).</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">address</td><td>Start address of the block to be freed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga78ff07514e38513b5ef7d8210a119c2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga78ff07514e38513b5ef7d8210a119c2a">&#9670;&nbsp;</a></span>memBuddySystemFree()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void memBuddySystemFree </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__tme.html#ga7c44839dc791affb4e79e71d277a86c9">Address</a>&#160;</td>
          <td class="paramname"><em>address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free a previously allocated (buddy system) block of memory. </p>
<p>If the block to be freed is contiguous to an empty block, merging must take place. The following must be considered:</p><ul>
<li>In case of an error, an appropriate exception must be thrown.</li>
<li>All exceptions must be of the type defined in this project (<a class="el" href="class_exception.html" title="The somm23 exception class.">Exception</a>).</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">address</td><td>Start address of the block to be freed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
